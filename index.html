<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è»Šç¦ç­†éŒ„æ‡‰å°äº’å‹•æŒ‡å—</title>
    <script>
        // ç²å–ç•¶å‰é é¢çš„å®Œæ•´ URL
        const currentUrl = window.location.href;
        // å®šç¾©æ‚¨çš„ GitHub Pages å„²å­˜åº«æ ¹ URL (ä¸å«æœ€å¾Œçš„æ–œç·šï¼Œå› ç‚ºæª”åæœƒç›´æ¥æ¥ä¸Š)
        // è«‹ç¢ºä¿é€™è£¡çš„ç¶²å€èˆ‡æ‚¨çš„ GitHub Pages åŸºç¤ç¶²å€å®Œå…¨ä¸€è‡´
        const baseUrl = 'https://roxie-hub.github.io/handle-accident'; // <-- æ ¹æ“šæ‚¨æä¾›çš„æ–°ç¶²å€èª¿æ•´ç‚ºå°ˆæ¡ˆæ ¹è·¯å¾‘
        // å®šç¾©æ‚¨çš„ HTML æª”æ¡ˆåç¨± (åŒ…å«å‰¯æª”å)
        const htmlFileName = 'index.html'; // <-- èª¿æ•´ç‚ºæ‚¨çš„é¦–é æª”æ¡ˆåç¨±
        // å°ä¸­æ–‡å­—å…ƒé€²è¡Œ URL ç·¨ç¢¼ï¼Œä»¥ç¢ºä¿ç¶²å€åœ¨æ‰€æœ‰ç€è¦½å™¨ä¸­éƒ½èƒ½æ­£ç¢ºè§£æ
        const encodedFileName = encodeURIComponent(htmlFileName);

        // æª¢æŸ¥ç•¶å‰ URL æ˜¯å¦æ˜¯å„²å­˜åº«çš„æ ¹ URLï¼Œè€Œä¸æ˜¯å¸¶æœ‰ç‰¹å®šæª”æ¡ˆçš„ URL
        // ç›®çš„æ˜¯å°‡å½¢å¦‚ https://roxie-hub.github.io/handle-accident/
        // æˆ– https://roxie-hub.github.io/handle-accident
        // çš„ç¶²å€é‡å®šå‘åˆ°å¸¶æœ‰å®Œæ•´æª”åçš„ç¶²å€
        if (currentUrl === baseUrl + '/' || currentUrl === baseUrl) {
            // å¦‚æœæ˜¯æ ¹ URLï¼Œå‰‡é‡å®šå‘åˆ°å¸¶æœ‰å®Œæ•´æª”åçš„ URL
            window.location.replace(baseUrl + '/' + encodedFileName);
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Chosen Palette: Calm Neutrals - Reverted to previous aesthetic -->
    <!-- Application Structure Plan: The app uses a single-page, thematic structure to guide stressed users. It starts with four "Golden Rules" for immediate high-level advice. The core is an interactive accordion Q&A section, allowing users to select specific police questions and see explanations without being overwhelmed. This is followed by a post-statement checklist and a glossary. This task-oriented, progressive disclosure design was chosen over a simple document dump to reduce cognitive load and provide immediate, relevant answers in a high-stress situation. -->
    <!-- Visualization & Content Choices: The source is text-heavy, so the focus is on information architecture, not data visualization. Report Info: The 18 police questions and their legal context. Goal: Inform and guide. Presentation: Interactive accordion list (HTML/JS) to organize Q&A. Goal: Organize. Presentation: Styled HTML/CSS cards for key principles. Goal: Inform. Presentation: A simple process flow diagram for the post-accident timeline using styled HTML/CSS flexbox. Goal: Change/Organize. This avoids complex charts and focuses on clarity and usability for the target user. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8F7F4; /* æ·ºç±³è‰²èƒŒæ™¯ */
            color: #3C3633; /* æ·±æ£•è‰²æ–‡å­— */
            /* å»ºè­°ç”¨æ–¼é¡å¤–ä¿è­· (æœƒå½±éŸ¿ä½¿ç”¨è€…é¸å–æ–‡å­—ï¼Œä½†å®¹æ˜“è¢«ç¹é) */
            /* user-select: none; */
            /* -webkit-user-select: none; */
            /* -moz-user-select: none; */
            /* -ms-user-select: none; */
        }
        /* ä¸»é¡Œé¡è‰² */
        .bg-primary { background-color: #E0E7E9; } /* æ·ºç°è—è‰² */
        .bg-secondary { background-color: #F0EBE3; } /* æ·ºç°è¤è‰² */
        .text-accent { color: #7C9D96; } /* æŸ”å’Œçš„è—ç¶ è‰² */
        .border-accent { border-color: #7C9D96; }
        .bg-accent { background-color: #7C9D96; }

        /* æ‰‹é¢¨ç´æ•ˆæœçš„ CSS */
        .accordion-content {
            max-height: 0; /* é è¨­æ”¶åˆ */
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* å¹³æ»‘éæ¸¡æ•ˆæœ */
            padding: 0 1.5rem; /* é è¨­ç„¡å…§é‚Šè· */
        }
        .accordion-content.open {
            max-height: 1000px; /* æ‰“é–‹æ™‚çš„æœ€å¤§é«˜åº¦ (è¶³å¤ é¡¯ç¤ºå…§å®¹) */
            padding: 1rem 1.5rem 1.5rem; /* æ‰“é–‹æ™‚çš„å…§é‚Šè· */
        }
        /* æ‰‹é¢¨ç´ç®­é ­æ—‹è½‰æ•ˆæœ */
        .arrow-icon {
            transition: transform 0.3s ease-out; /* å¹³æ»‘éæ¸¡æ•ˆæœ */
        }
        .arrow-icon.rotated {
            transform: rotate(180deg); /* æ—‹è½‰ 180 åº¦ */
        }

        /* SVG Text Container Styles */
        .svg-text-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem; /* æ ¹æ“šä½ˆå±€èª¿æ•´ */
            padding: 0 1rem; /* ç¢ºä¿åœ¨å°è¢å¹•ä¸Šæœ‰é‚Šè· */
        }
        .svg-text-container svg {
            max-width: 100%;
            height: auto;
        }

        /* Message box for iframe detection */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border: 2px solid #7C9D96; /* ä½¿ç”¨ accent color */
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            text-align: center;
            font-size: 1.1rem;
            color: #3C3633; /* ä½¿ç”¨æ·±æ£•è‰²æ–‡å­— */
            max-width: 90%;
            width: 400px;
        }
        .message-box button {
            background-color: #7C9D96; /* ä½¿ç”¨ accent color */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            margin-top: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .message-box button:hover {
            background-color: #63857E; /* accent color çš„æ·±è‰²ç‰ˆæœ¬ */
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9999;
        }
    </style>
</head>
<body class="antialiased" oncontextmenu="return false;"> <!-- Added oncontextmenu to disable right-click -->

    <!-- Message box for iframe detection -->
    <div id="iframe-message-overlay" class="overlay hidden"></div>
    <div id="iframe-message-box" class="message-box hidden">
        <p>ç‚ºäº†ç²å¾—æœ€ä½³ç€è¦½é«”é©—ä¸¦ç¢ºä¿å…§å®¹çš„å®Œæ•´æ€§ï¼Œå»ºè­°æ‚¨ç›´æ¥è¨ªå•æœ¬ç¶²é çš„åŸå§‹é€£çµã€‚</p>
        <button id="iframe-message-close">å‰å¾€åŸå§‹é€£çµ</button>
    </div>

    <div class="container mx-auto max-w-4xl px-4 py-8 sm:py-12">
        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-accent mb-2">è»Šç¦ç­†éŒ„æ‡‰å°äº’å‹•æŒ‡å—</h1>
            <!-- Original text paragraph will be replaced by SVG via JavaScript -->
            <div id="intro-text-svg-container" class="svg-text-container">
                <!-- SVG will be injected here -->
            </div>
        </header>

        <section id="golden-rules" class="mb-12">
            <h2 class="text-2xl font-bold text-center text-accent mb-6">ç­†éŒ„å‰å¿…è®€ï¼šå››å¤§é»ƒé‡‘æº–å‰‡</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-secondary p-6 rounded-lg shadow">
                    <h3 class="font-bold text-xl mb-2 text-accent">â‘  å†·éœé™³è¿°ï¼Œåªèªªäº‹å¯¦</h3>
                    <p class="text-gray-700">æè¿°è¦ªçœ¼æ‰€è¦‹ï¼Œä¸åŠ æ²¹æ·»é†‹ã€ä¸çŒœæ¸¬ã€‚è‹¥ä¸ç¢ºå®šè·é›¢ã€é€Ÿåº¦ï¼Œå°±èªªã€Œç„¡æ³•æº–ç¢ºä¼°è¨ˆã€ã€‚</p>
                </div>
                <div class="bg-secondary p-6 rounded-lg shadow">
                    <h3 class="font-bold text-xl mb-2 text-accent">â‘¡ é¿å…è‡ªè²¬èˆ‡æ¨æ¸¬æ€§å­—çœ¼</h3>
                    <p class="text-gray-700">çµ•ä¸èªªã€Œå¯èƒ½æ˜¯æˆ‘å¤ªå¿«ã€ã€ã€Œæ‡‰è©²æ˜¯æˆ‘çš„éŒ¯ã€ã€‚è²¬ä»»æ­¸å±¬äº¤ç”±å°ˆæ¥­åˆ¤å®šï¼Œåˆ‡å‹¿ä¸»å‹•æ”¬è²¬ã€‚</p>
                </div>
                <div class="bg-secondary p-6 rounded-lg shadow">
                    <h3 class="font-bold text-xl mb-2 text-accent">â‘¢ ä¸»å‹•æä¾›æœ‰åˆ©è­‰æ“š</h3>
                    <p class="text-gray-700">ä¸»å‹•å‘ŠçŸ¥è­¦æ–¹è‡ªå·±æˆ–å°æ–¹çš„è¡Œè»Šè¨˜éŒ„å™¨ã€é™„è¿‘ç›£è¦–å™¨ã€ç›®æ“Šè­‰äººï¼Œä¸¦æ¸…æ¥šèªªæ˜å°æ–¹é•è¦è¡Œç‚ºã€‚</p>
                </div>
                <div class="bg-secondary p-6 rounded-lg shadow">
                    <h3 class="font-bold text-xl mb-2 text-accent">â‘£ ç°½åå‰å‹™å¿…ä»”ç´°æ ¸å°</h3>
                    <p class="text-gray-700">ç­†éŒ„æ˜¯æ³•å¾‹æ–‡ä»¶ï¼Œç°½åå¾Œæ¥µé›£ä¿®æ”¹ã€‚å…§å®¹æœ‰èª¤æˆ–éºæ¼ï¼Œå‹™å¿…ç•¶å ´è«‹è­¦æ–¹æ›´æ­£å¾Œå†ç°½åã€‚</p>
                </div>
            </div>
        </section>

        <section id="interactive-qa">
            <h2 class="text-2xl font-bold text-center text-accent mb-6">è­¦æ–¹å•é¡Œäº’å‹•æŒ‡å—</h2>
            <p class="text-center text-gray-700 mb-8">é»æ“Šä¸‹æ–¹å•é¡Œï¼ŒæŸ¥çœ‹æ‡‰å°ç­–ç•¥èˆ‡å¸¸è¦‹é™·é˜±ã€‚</p>
            <div id="accordion-container" class="space-y-4">
            </div>
        </section>
        
        <section id="checklist" class="mt-12">
            <h2 class="text-2xl font-bold text-center text-accent mb-6">ç­†éŒ„å¾ŒçºŒæµç¨‹èˆ‡æ¬Šç›Š</h2>
             <div class="bg-primary p-6 rounded-lg shadow">
                <p class="mb-6 text-center text-gray-700">å®Œæˆç­†éŒ„åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹ä¾†çš„æµç¨‹èˆ‡æ‚¨çš„æ¬Šç›Šæ¯æ¯ç›¸é—œã€‚è«‹å‹™å¿…ç•™æ„ä»¥ä¸‹é—œéµæ™‚é–“é»èˆ‡æ–‡ä»¶ã€‚</p>
                <div class="flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-2 text-center">
                    <div class="flex-1">
                        <div class="bg-accent text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto text-2xl font-bold">1</div>
                        <h3 class="font-bold mt-2">ç•¶ä¸‹</h3>
                        <p class="text-sm text-gray-700">å®Œæˆç­†éŒ„<br>ç´¢å–ç•¶äº‹äººç™»è¨˜è¯å–®</p>
                    </div>
                    <div class="w-full md:w-16 h-1 md:h-0 md:flex-1 border-t-2 md:border-t-0 md:border-l-2 border-dashed border-accent my-2 md:my-0"></div>
                    <div class="flex-1">
                        <div class="bg-accent text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto text-2xl font-bold">30å¤©å¾Œ</div>
                        <h3 class="font-bold mt-2">ç”³è«‹åˆåˆ¤è¡¨</h3>
                        <p class="text-sm text-gray-700">ç”³è«‹ã€Œé“è·¯äº¤é€šäº‹æ•…åˆæ­¥åˆ†æç ”åˆ¤è¡¨ã€</p>
                    </div>
                    <div class="w-full md:w-16 h-1 md:h-0 md:flex-1 border-t-2 md:border-t-0 md:border-l-2 border-dashed border-accent my-2 md:my-0"></div>
                    <div class="flex-1">
                        <div class="bg-accent text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto text-2xl font-bold">6å€‹æœˆå…§</div>
                        <h3 class="font-bold mt-2">æå‡ºå‘Šè¨´</h3>
                        <p class="text-sm text-gray-700">è‹¥æœ‰å—å‚·ä¸”å’Œè§£ä¸æˆï¼Œå¯æå‡ºéå¤±å‚·å®³å‘Šè¨´</p>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <script>
        // ç­†éŒ„å•é¡Œèˆ‡æ‡‰å°æ•¸æ“š
        const qaData = [
            { q: "Q1: æ‚¨ç›®å‰æ„è­˜æ˜¯å¦æ¸…æ¥šï¼Ÿç•¶æ™‚è‚‡äº‹æ™‚é–“ã€åœ°é»ï¼Ÿ", goal: "ç¢ºèªåŸºæœ¬äº‹å¯¦ï¼Œæ˜¯å¾ŒçºŒèª¿é–±è­‰æ“šçš„åŸºç¤ã€‚", points: ["ä»”ç´°æ ¸å°è­¦æ–¹è¨˜éŒ„çš„æ™‚é–“èˆ‡åœ°é»æ˜¯å¦ç²¾ç¢ºã€‚", "è‹¥ä¸ç¢ºå®šï¼Œæ‡‰èª å¯¦å‘ŠçŸ¥ï¼Œé¿å…æä¾›éŒ¯èª¤è³‡è¨Šã€‚"], trap: "æ™‚é–“æˆ–åœ°é»çš„å¾®å°éŒ¯èª¤ï¼Œå¯èƒ½å°è‡´èª¿ä¸åˆ°é—œéµçš„ç›£è¦–å™¨ç•«é¢ã€‚" },
            { q: "Q2: è«‹è©³è¿°è‚‡äº‹ç¶“éã€è¡Œå‘ã€è¡Œé§›è»Šé“ï¼Ÿ", goal: "å»ºç«‹å®¢è§€çš„äº‹æ•…ç™¼ç”Ÿè¼ªå»“ã€‚", points: ["ç”¨ä¸­æ€§ã€å®¢è§€çš„èªæ°£æè¿°ï¼Œå¦‚ã€Œæˆ‘æ²¿è‘—å…§å´è»Šé“ç›´è¡Œã€ã€‚", "æ¸…æ¥šèªªæ˜è‡ªå·±èˆ‡å°æ–¹çš„è¡Œé§›æ–¹å‘èˆ‡è»Šé“ã€‚"], trap: "ä½¿ç”¨ã€Œæˆ‘çŒœã€ã€ã€Œæˆ‘è¦ºå¾—ã€ç­‰ä¸»è§€è©èªï¼Œæœƒè¢«è¦–ç‚ºè‡ªç™½ï¼Œå½±éŸ¿è²¬ä»»åˆ¤æ–·ã€‚" },
            { q: "Q4: ç•¶æ™‚å¤©å€™ï¼Ÿè·¯æ³ï¼Ÿè¦–ç·šï¼Ÿæœ‰ç„¡éšœç¤™ç‰©ï¼Ÿ", goal: "äº†è§£å¤–åœ¨ç’°å¢ƒå› ç´ æ˜¯å¦å½±éŸ¿äº‹æ•…ã€‚", points: ["ä¸»å‹•å‘ŠçŸ¥ä»»ä½•ç‰¹æ®Šç‹€æ³ï¼Œå¦‚ã€Œè·¯é¢æ¿•æ»‘ã€ã€ã€Œæœ‰æ–½å·¥åœç±¬ã€ã€ã€Œè™ŸèªŒæ•…éšœã€ç­‰ã€‚"], trap: "è‹¥æœªæåŠè·¯é¢æ²¹æ¼¬ã€å‘æ´ç­‰ç‹€æ³ï¼Œç­‰æ–¼æ”¾æ£„ä¸€å€‹è­‰æ˜è‡ªå·±å·²ç›¡æ³¨æ„ç¾©å‹™çš„æ©Ÿæœƒã€‚" },
            { q: "Q6: ç•¶æ™‚ç™¼ç¾å°è‚‡è»Šè¼›æ™‚é›™æ–¹ç›¸è·ç´„å¹¾å…¬å°ºï¼Ÿæ¡å–ä½•ç¨®åæ‡‰æªæ–½ï¼Ÿ", goal: "åˆ¤æ–·æ‚¨æ˜¯å¦æœ‰è¶³å¤ çš„åæ‡‰æ™‚é–“èˆ‡ç©ºé–“ã€‚", points: ["è‹¥ç„¡æ³•æº–ç¢ºåˆ¤æ–·è·é›¢ï¼Œå‹™å¿…å›ç­”ã€Œç„¡æ³•æº–ç¢ºä¼°è¨ˆã€ã€‚", "å…·é«”èªªæ˜åæ‡‰æªæ–½ï¼Œå¦‚ã€Œæˆ‘ç«‹åˆ»è¸©ç…è»Šä¸¦å‘å³æ‰“æ–¹å‘ç›¤ã€ã€‚"], trap: "éš¨æ„ä¼°è¨ˆçš„æ•¸å­—è‹¥èˆ‡ç¾å ´è·¡è­‰ï¼ˆå¦‚ç…è»Šç—•ï¼‰æ¨ç®—çµæœä¸ç¬¦ï¼Œæœƒåš´é‡é™ä½æ‚¨è­‰è©çš„å¯ä¿¡åº¦ã€‚" },
            { q: "Q7: ç™¼ç”Ÿç¢°æ’å‰æ™‚é€Ÿç´„é”æ¯å°æ™‚å¹¾å…¬é‡Œï¼Ÿ", goal: "åˆ¤æ–·æ˜¯å¦æœ‰è¶…é€Ÿæˆ–è»Šé€Ÿéå¿«çš„æƒ…å½¢ã€‚", points: ["è‹¥æœªè¶…é€Ÿï¼Œå¯å›ç­”ã€Œåœ¨é€Ÿé™å…§è¡Œé§›ã€ã€‚", "åŒæ¨£åœ°ï¼Œè‹¥ä¸ç¢ºå®šç²¾ç¢ºæ•¸å­—ï¼Œå°±ä¸è¦éš¨æ„å›ç­”ã€‚"], trap: "å³ä½¿æ²’è¶…é€Ÿï¼Œä½†è‹¥å£è¿°è»Šé€Ÿæ¯”å¯¦éš›å¿«ï¼Œå°æ–¹å¯èƒ½æœƒä¸»å¼µæ‚¨åæ‡‰ä¸åŠæˆ–æœªä¿æŒå®‰å…¨è·é›¢ã€‚" },
            { q: "Q9: æœ‰ç„¡é£²é…’ï¼Ÿ", goal: "ç¢ºèªæ˜¯å¦æ¶‰åŠé…’å¾Œé§•è»Šçš„åˆ‘äº‹çŠ¯ç½ªã€‚", points: ["èª å¯¦å›ç­”ï¼Œä¸¦å‹™å¿…é…åˆé…’æ¸¬ã€‚", "è‹¥æœ‰é£²é…’ï¼Œä¿éšªå…¬å¸å¯èƒ½ä¸äºˆç†è³ ã€‚"], trap: "æ‹’çµ•é…’æ¸¬æœƒé¢è‡¨é«˜é¡ç½°æ¬¾ä¸¦åŠéŠ·é§•ç…§ï¼Œæ³•å¾‹å¾Œæœåš´é‡ã€‚" },
            { q: "Q11: æœ‰ç„¡ç¹«ï¼ˆæˆ´ï¼‰å®‰å…¨å¸¶ï¼ˆå¸½ï¼‰ï¼Ÿ", goal: "ç¢ºèªæ‚¨æ˜¯å¦ç›¡åˆ°ä¿è­·è‡ªå·±çš„åŸºæœ¬ç¾©å‹™ã€‚", points: ["èª å¯¦å›ç­”ã€‚"], trap: "å³ä½¿å°æ–¹100%è‚‡è²¬ï¼Œè‹¥æ‚¨å› æœªç¹«å®‰å…¨å¸¶å°è‡´å‚·å‹¢åŠ é‡ï¼Œè³ å„Ÿé‡‘é¡å¯èƒ½æœƒè¢«ã€Œèˆ‡æœ‰éå¤±ã€åŸå‰‡æ‰“æŠ˜ã€‚" },
            { q: "Q14: æ‚¨ï¼ˆä¹˜å®¢ï¼‰æ˜¯å¦å—å‚·ï¼Ÿå—å‚·æƒ…å½¢ç‚ºä½•ï¼Ÿ", goal: "ç¢ºèªäº‹æ•…æ˜¯å¦é€ æˆäººå“¡å‚·äº¡ï¼Œæ¶‰åŠåˆ‘äº‹è²¬ä»»ã€‚", points: ["å³ä½¿ç•¶ä¸‹æ„Ÿè¦ºæ²’äº‹ï¼Œä¹Ÿæ‡‰å›ç­”ã€Œæ„Ÿè¦ºèº«é«”ä¸é©ï¼Œéœ€è¦å»é†«é™¢æª¢æŸ¥ã€ã€‚", "å‹™å¿…ç•¶å¤©å°±é†«ä¸¦é–‹ç«‹è¨ºæ–·è­‰æ˜ã€‚"], trap: "ç•¶ä¸‹å›ç­”ã€Œæ²’å—å‚·ã€ï¼Œäº‹å¾Œæ‰ç™¼ç¾æœ‰å…§å‚·æˆ–ç— ç—›ï¼Œå°‡æ¥µé›£è­‰æ˜å‚·å‹¢èˆ‡æœ¬æ¬¡è»Šç¦æœ‰é—œï¼Œå½±éŸ¿æ±‚å„Ÿèˆ‡ç†è³ ã€‚" },
            { q: "Q16: å‚·å®³ä¿‚å‘Šè¨´ä¹ƒè«–...æ‚¨æ˜¯å¦ç­è§£ï¼Ÿ", goal: "ä¾æ³•å‘ŠçŸ¥æ‚¨çš„æ³•å¾‹æ¬Šåˆ©ã€‚", points: ["å›ç­”ã€Œç­è§£ã€ã€‚", "å‹™å¿…è¨˜ä½ï¼Œè‹¥æœ‰å—å‚·ï¼Œå¯åœ¨ã€ŒçŸ¥æ‚‰çŠ¯äººæ™‚èµ·ã€6å€‹æœˆå…§æå‡ºéå¤±å‚·å®³å‘Šè¨´ã€‚"], trap: "èª¤ä»¥ç‚ºã€Œä¿ç•™æ³•å¾‹è¿½è¨´æ¬Šã€æœ‰æ³•å¾‹æ•ˆåŠ›ï¼Œæˆ–éŒ¯é6å€‹æœˆå‘Šè¨´æœŸï¼Œå°‡å–ªå¤±é€éåˆ‘äº‹ç¨‹åºå‘å°æ–¹æ–½å£“ä»¥åˆ©å’Œè§£çš„ç±Œç¢¼ã€‚" },
            { q: "Q17: ...ç¾å ´ï¼ˆè‰ï¼‰åœ–æ˜¯å¦æ­£ç¢ºï¼Ÿ", goal: "ç¢ºèªæ‚¨å°è­¦æ–¹ç¹ªè£½çš„äº‹æ•…ç¾å ´åœ–æ²’æœ‰ç•°è­°ã€‚", points: ["ä»”ç´°æ ¸å°åœ–ä¸Šçš„è»Šè¼›ä½ç½®ã€è¡Œå‘ã€æ¨™ç·šã€æ’æ“Šé»æ˜¯å¦èˆ‡äº‹å¯¦ç›¸ç¬¦ã€‚", "æœ‰ä»»ä½•ä¸ç¬¦ä¹‹è™•ï¼Œæ‡‰ç«‹å³å‘è­¦æ–¹åæ‡‰ä¸¦è¦æ±‚æ›´æ­£ã€‚"], trap: "è‰åœ–æ˜¯åˆåˆ¤è¡¨å’Œé‘‘å®šçš„é‡è¦ä¾æ“šï¼Œä¸€æ—¦ç°½åç¢ºèªï¼ŒéŒ¯èª¤çš„ç¾å ´åœ–å°‡å°æ‚¨æ¥µç‚ºä¸åˆ©ã€‚" },
            { q: "Q18: ä»¥ä¸Šæ‰€è¨€æ˜¯å¦å¯¦åœ¨ï¼Ÿæœ‰ç„¡è£œå……ï¼Ÿ", goal: "çµ¦æ‚¨æœ€å¾Œç¢ºèªåŠè£œå……èªªæ˜çš„æ©Ÿæœƒã€‚", points: ["å†æ¬¡å¿«é€Ÿç€è¦½å…¨éƒ¨ç­†éŒ„å…§å®¹ã€‚", "è‹¥æœ‰ä»»ä½•éºæ¼æˆ–æƒ³å¼·èª¿çš„äº‹ï¼Œå¯åœ¨æ­¤æ™‚è£œå……ï¼Œä¾‹å¦‚ã€Œæˆ‘æƒ³è£œå……ï¼Œå°æ–¹çš„è»Šé€Ÿéå¸¸å¿«ã€ã€‚"], trap: "è¼•ç‡åœ°å›ç­”ã€Œæ²’æœ‰ã€ä¸¦ç°½åï¼Œç­‰æ–¼æ”¾æ£„äº†æœ€å¾Œè£œæ•‘ç­†éŒ„å…§å®¹çš„æ©Ÿæœƒã€‚" }
        ];

        const accordionContainer = document.getElementById('accordion-container');

        // éæ­· qaData æ•¸æ“šï¼Œç‚ºæ¯å€‹å•é¡Œå»ºç«‹æ‰‹é¢¨ç´é …ç›®
        qaData.forEach((item, index) => {
            const accordionItem = document.createElement('div');
            accordionItem.className = 'bg-white rounded-lg shadow-md overflow-hidden'; // æ‰‹é¢¨ç´é …ç›®æ¨£å¼
            
            // å»ºç«‹æ‰‹é¢¨ç´æŒ‰éˆ• (å•é¡Œ)
            const button = document.createElement('button');
            button.className = 'accordion-button w-full text-left p-6 flex justify-between items-center bg-primary hover:bg-opacity-80 transition-colors';
            button.innerHTML = `
                <span class="font-bold text-lg text-accent">${item.q}</span>
                <span class="arrow-icon text-accent">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </span>
            `;

            // å»ºç«‹æ‰‹é¢¨ç´å…§å®¹ (æ‡‰å°ç­–ç•¥ã€é™·é˜±ç­‰)
            const content = document.createElement('div');
            content.className = 'accordion-content';
            content.innerHTML = `
                <div class="mb-4">
                    <h4 class="font-bold text-accent mb-1">ğŸ’¡ è­¦æ–¹çš„ç›®çš„</h4>
                    <p class="text-gray-700">${item.goal}</p>
                </div>
                <div class="mb-4">
                    <h4 class="font-bold text-accent mb-1">âœ… æ‡‰å°é‡é»</h4>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                        ${item.points.map(p => `<li>${p}</li>`).join('')}
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-red-600 mb-1">âš ï¸ å¸¸è¦‹é™·é˜±</h4>
                    <p class="text-gray-700">${item.trap}</p>
                </div>
            `;

            // å°‡æŒ‰éˆ•å’Œå…§å®¹æ·»åŠ åˆ°æ‰‹é¢¨ç´é …ç›®ä¸­
            accordionItem.appendChild(button);
            accordionItem.appendChild(content);
            // å°‡æ‰‹é¢¨ç´é …ç›®æ·»åŠ åˆ°å®¹å™¨ä¸­
            accordionContainer.appendChild(accordionItem);

            // ç‚ºæŒ‰éˆ•æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
            button.addEventListener('click', () => {
                const isOpening = !content.classList.contains('open'); // åˆ¤æ–·æ˜¯å¦æ­£åœ¨æ‰“é–‹

                // å…ˆé—œé–‰æ‰€æœ‰å·²æ‰“é–‹çš„æ‰‹é¢¨ç´å…§å®¹
                document.querySelectorAll('.accordion-content.open').forEach(openContent => {
                    openContent.classList.remove('open');
                    // ç§»é™¤ç®­é ­çš„æ—‹è½‰æ•ˆæœ
                    openContent.previousElementSibling.querySelector('.arrow-icon').classList.remove('rotated');
                });
                
                // å¦‚æœæ˜¯æ‰“é–‹æ“ä½œï¼Œå‰‡æ‰“é–‹ç•¶å‰æ‰‹é¢¨ç´å…§å®¹
                if (isOpening) {
                    content.classList.add('open');
                    // æ·»åŠ ç®­é ­çš„æ—‹è½‰æ•ˆæœ
                    button.querySelector('.arrow-icon').classList.add('rotated');
                }
            });
        });

        // --- Content Protection Enhancements ---

        // Function to convert text to SVG and inject it
        function textToSVG(text, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            // Get font styles from body for consistency
            const bodyStyle = window.getComputedStyle(document.body);
            const fontFamily = bodyStyle.fontFamily.split(',')[0].trim(); // Get first font
            // Use a default size or derive from parent, then convert to px
            const fontSize = parseFloat(window.getComputedStyle(container).fontSize) || 18; 
            const textColor = window.getComputedStyle(container).color || '#3C3633'; // Use ink color

            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");

            // Create a temporary text element to measure its width/height
            const tempText = document.createElement("span");
            tempText.style.fontFamily = fontFamily;
            tempText.style.fontSize = fontSize + 'px';
            tempText.style.visibility = 'hidden';
            tempText.style.position = 'absolute';
            tempText.innerText = text;
            document.body.appendChild(tempText);

            const textWidth = tempText.offsetWidth;
            const textHeight = tempText.offsetHeight;
            document.body.removeChild(tempText);

            // Set a viewBox that roughly matches the text dimensions,
            // adding some padding and ensuring it scales well.
            const paddingX = 10;
            const paddingY = 5;
            const viewBoxWidth = textWidth + (paddingX * 2);
            const viewBoxHeight = textHeight + (paddingY * 2);

            svg.setAttribute("viewBox", `0 0 ${viewBoxWidth} ${viewBoxHeight}`);
            svg.setAttribute("width", "100%"); // Make it responsive
            svg.setAttribute("height", "auto");
            svg.setAttribute("role", "img"); // For accessibility
            svg.setAttribute("aria-label", "Decorative text image: " + text); // Alt text for accessibility

            const textNode = document.createElementNS(svgNS, "text");
            textNode.setAttribute("x", paddingX);
            textNode.setAttribute("y", fontSize + paddingY); // Adjust y based on font size
            textNode.setAttribute("font-family", fontFamily);
            textNode.setAttribute("font-size", fontSize + "px");
            textNode.setAttribute("fill", textColor);
            textNode.textContent = text;

            svg.appendChild(textNode);
            container.appendChild(svg);
        }

        // Apply SVG conversion to the introductory paragraph
        const introTextContent = "ç‚ºæ‚¨çš„æ¬Šç›Šï¼Œåšæœ€å……è¶³çš„æº–å‚™";
        textToSVG(introTextContent, 'intro-text-svg-container');


        // Intercept copy event to add copyright notice
        document.addEventListener('copy', function(e) {
            e.preventDefault(); // Prevent default copy action

            const selectedText = window.getSelection().toString();
            // Customize your notice - IMPORTANT: Update the URL to your actual GitHub Pages URL
            const copyrightNotice = "\n\n--- æœ¬å…§å®¹å—è‘—ä½œæ¬Šä¿è­·ï¼Œæœªç¶“æˆæ¬Šç¦æ­¢è½‰è¼‰èˆ‡è¤‡è£½ ---\nä¾†æºï¼šè»Šç¦ç­†éŒ„æ‡‰å°äº’å‹•æŒ‡å— " + baseUrl + "/" + encodedFileName + "\n"; // ä½¿ç”¨å‹•æ…‹ URL

            // Set the new clipboard data
            if (e.clipboardData) {
                e.clipboardData.setData('text/plain', selectedText + copyrightNotice);
            } else if (window.clipboardData && window.clipboardData.setData) {
                // For IE
                window.clipboardData.setData('Text', selectedText + copyrightNotice);
            }
        });

        // Detect if page is embedded in an iframe and display a message
        function detectIframeAndWarn() {
            // Check if window.self is not the top window (meaning it's in an iframe)
            if (window.self !== window.top) {
                const messageBox = document.getElementById('iframe-message-box');
                const overlay = document.getElementById('iframe-message-overlay');
                const closeButton = document.getElementById('iframe-message-close');

                if (messageBox && overlay && closeButton) {
                    messageBox.classList.remove('hidden');
                    overlay.classList.remove('hidden');

                    closeButton.addEventListener('click', () => {
                        // Open the original page URL in a new tab
                        window.open(baseUrl + "/" + encodedFileName, '_blank');
                    });
                }
            }
        }

        // Call the iframe detection function when the DOM is loaded
        document.addEventListener('DOMContentLoaded', detectIframeAndWarn);
    </script>
</body>
</html>


